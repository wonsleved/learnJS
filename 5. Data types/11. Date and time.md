# Date and time

## Creation

`new Date()`

Without arguments – create a `Date` object for the current date and time.

`new Date(milliseconds)` - Create a `Date` object with the time equal to number of milliseconds (1/1000 of a second) passed after the Jan 1st of 1970 UTC+0.

Dates before 01.01.1970 have negative timestamps, e.g.:

```
// 31 Dec 1969
let Dec31_1969 = new Date(-24 * 3600 * 1000);
alert( Dec31_1969 );
```

`new Date(datestring)`

The algorithm is the same as `Date.parse`

```
let date = new Date("2017-01-26");
alert(date);
// The time is not set, so it's assumed to be midnight GMT and
// is adjusted according to the timezone the code is run in
```

`new Date(year, month, date, hours, minutes, seconds, ms)`

Create the date with the given components in the local time zone. Only the first two arguments are obligatory.

- The `year` must have 4 digits: `2013` is okay, `98` is not.
- The `month` count starts with `0` (Jan), up to `11` (Dec).
- The `date` parameter is actually the day of month, if absent then `1` is assumed.
- If hours/minutes/seconds/ms is absent, they are assumed to be equal `0`.

## Access date components

- `getFullYear()` - get the year (4 digits)
- `getMonth()` - get the month, from 0 to 11.
- `getDate()` - Get the day of month, from 1 to 31, the name of the method does look a little bit strange.
- `getHours()`, `getMinutes()`, `getSeconds()`, `getMilliseconds()` - Get the corresponding time components.

***Not `getYear()`, but `getFullYear()`.***
`getYear()` is deprecated.

- `getDay()` - get the day of week, from `0` (Sunday) to `6` (Saturday). 

***All the methods above return the components relative to the local time zone.***

Use `getUTCFullYear()`, `getUTCMonth()`, `getUTCDay()` - time zone UTC+0.

- `getTime()` -  number of milliseconds passed from the January 1st of 1970 UTC+0.
- `getTimezoneOffset()` - difference between UTC and the local time zone, in minutes.

## Setting date components

- `setFullYear(year, [month], [date])` 
- `setMonth(month, [date])`
- `setDate(date)`
- `setHours(hour, [min], [sec], [ms])`
- `setMinutes(min, [sec], [ms])`
- `setSeconds(sec, [ms])`
- `setMilliseconds(ms)`
- `setTime(milliseconds)`

Every one of them except `setTime()` has a UTC-variant, for instance: `setUTCHours()`.

## Autocorrection

```
let date = new Date(2013, 0, 32); // 32 Jan 2013 ?!?
alert(date); // ...is 1st Feb 2013!
```

```
let date = new Date(2016, 1, 28);
date.setDate(date.getDate() + 2);

alert( date ); // 1 Mar 2016
```

## Date to number, date diff

When a `Date` object is converted to number, it becomes the timestamp same as `date.getTime()`

```
let start = new Date(); // start measuring time
// ... do the job
let end = new Date(); // end measuring time
alert( `The loop took ${end - start} ms` );
```

## Date.now()

If we only want to measure time, we don’t need the `Date` object.

There’s a special method `Date.now()` that returns the current timestamp.

## Benchmarking

***Using `getTime()` is so much faster thant difference Date!***
No type conversation.

For more reliable benchmarking, the whole pack of benchmarks should be rerun multiple times.

***Be careful doing microbenchmarking***

## Date.parse from a string

The method `Date.parse(str)` can read a date from a string.

The string format should be: `YYYY-MM-DDTHH:mm:ss.sssZ`

- `YYYY-MM-DD` – is the date: year-month-day.
- The character `"T"` is used as the delimiter.
- `HH:mm:ss.sss` – is the time: hours, minutes, seconds and milliseconds.
- The optional `'Z'` part denotes the time zone in the format `+-hh:mm`. A single letter `Z` would mean UTC+0.