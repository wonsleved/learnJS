# Destructuring assignment

*Destructuring assignment* is a special syntax that allows us to “unpack” arrays or objects into a bunch of variables, as sometimes that’s more convenient.

## Array destructuring

```
let arr = ["John", "Smith"]

// sets firstName = arr[0]
// and surname = arr[1]
let [firstName, surname] = arr;
```

***“Destructuring” does not mean “destructive”.***

***Ignore elements using commas.***

```
let [firstName, , title] = ["Julius",...];
```

***Works with any iterable on the right-side***

```
let [a, b, c] = "abc"; // ["a", "b", "c"]
let [one, two, three] = new Set([1, 2, 3]);
```

***Swap variables trick***

```
[guest, admin] = [admin, guest];
```

## The rest ‘…’

```
let [name1, name2, ...rest] = ["Julius", "Caesar", ...]; // rest is array
```

## Default values

```
let [name = "Guest", surname = "Anonymous"] = ["Julius"];
// runs only prompt for surname
let [name = prompt('name?'), surname = prompt('surname?')] = ["Julius"];
```

## Object destructuring

```
let {var1, var2} = {var1:…, var2:…}
```

The order does not matter.

Renaming:

```
let {width: w, height: h, title} = options;
```

Default:

```
let {width = 100, height = 200, title} = options;
```

Combined:

```
let {width: w = 100, height: h = 200, title} = options;
```

## The rest pattern “…”

```
// title = property named title
// rest = object with the rest of properties
let {title, ...rest} = options;
```

***Gotcha if there’s no `let`***

```
let title, width, height;

// error in this line
{title, width, height} = {title: "Menu", width: 200, height: 100};

// okay now
({title, width, height} = {title: "Menu", width: 200, height: 100});
```

The problem is that JavaScript treats `{...}` in the main code flow (not inside another expression) as a code block.

## Nested destructuring

```
// destructuring assignment split in multiple lines for clarity
let {
  size: { // put size here
    width,
    height
  },
  items: [item1, item2], // assign items here
  title = "Menu" // not present in the object (default value is used)
} = options;
```

## Smart function parameters

Here’s a bad way to write such function:

```
function showMenu(title = "Untitled", width = 200, height = 100, items = []) {
  // ...
}
```

```
function showMenu({title = "Untitled", width = 200, height = 100, items = []}) {
    // ...
}
```

```
function({
  incomingProperty: varName = defaultValue
  ...
})
```