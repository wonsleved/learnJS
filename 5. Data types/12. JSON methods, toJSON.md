# JSON methods, toJSON

The [JSON](http://en.wikipedia.org/wiki/JSON) (JavaScript Object Notation) is a general format to represent values and objects.

## JSON.stringify

JavaScript provides methods:

- `JSON.stringify` to convert objects into JSON.
- `JSON.parse` to convert JSON back into an object.

JSON supports following data types:
- Objects `{ ... }`
- Arrays `[ ... ]`
- Primitives:
  - strings,
  - numbers,
  - boolean values `true/false`,
  - `null`.

Some JavaScript-specific object properties are skipped by `JSON.stringify`.

- Function properties (methods).
- Symbolic keys and values.
- Properties that store `undefined`.

The important limitation: there must be no circular references. Otherwise, it will cause an error.

## Excluding and transforming: replacer

```
let json = JSON.stringify(value[, replacer, space])
```

- value - a value to encode.
- replacer - array of properties to encode or a mapping function `function(key, value)`.
- space - amount of space to use for formatting

## Custom “toJSON”

Like `toString` for string conversion, an object may provide method `toJSON` for to-JSON conversion. `JSON.stringify` automatically calls it if available.

```
let room = {
  number: 23,
  toJSON() {
    return this.number;
  }
};
```

## JSON.parse

To decode a JSON-string, we need another method named [JSON.parse](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse).

```
let value = JSON.parse(str, [reviver]);
```

- `str` - JSON-string to parse.
- `reviver` - optional function(key,value) that will be called for each (key, value) pair and can transform the value.

JSON does not support comments. Adding a comment to JSON makes it invalid.

