# Modifying the document

DOM modification is the key to creating “live” pages.

## Creating an element

- `document.createElement(tag)` - creates a new element node with the given tag.
- `document.createTextNode(text)` - creates a new text node with the given text.

### Creating the message

```
div.innerHTML = "<strong>Hi there!</strong> You've read an important message.";
```

## Insertion methods

- `node.append(...nodes or strings)` – append nodes or strings at the end of `node`, 
- `node.prepend(...nodes or strings)` – insert nodes or strings at the beginning of `node`, 
- `node.before(...nodes or strings)` – insert nodes or strings before `node`, 
- `node.after(...nodes or strings)` – insert nodes or strings after `node`, 
- `node.replaceWith(...nodes or strings)` – replaces `node` with the given nodes or strings.

Strings are inserted “as text”, not “as HTML”.

## insertAdjacentHTML/Text/Element

- `elem.insertAdjacentHTML(where, html)` 

`where`:

- `"beforebegin"` – insert `html` immediately before `elem`,
- `"afterbegin"` – insert `html` into `elem`, at the beginning,
- `"beforeend"` – insert `html` into `elem`, at the end,
- `"afterend"` – insert `html` immediately after `elem`

The method has two brothers:

- `elem.insertAdjacentText(where, text)` – the same syntax, but a string of `text` is inserted “as text” instead of HTML, 
- `elem.insertAdjacentElement(where, elem)` – the same syntax, but inserts an element.

## Node removal

To remove a node, there’s a method `node.remove()`.

If we want to move an element to another place – there’s no need to remove it from the old one. 

**All insertion methods automatically remove the node from the old place.**

## Cloning nodes: cloneNode

- `elem.cloneNode(true)` creates a “deep” clone of the element – with all attributes and subelements. If we call `elem.cloneNode(false)`, then the clone is made without child elements.

## DocumentFragment

`DocumentFragment` is a special DOM node that serves as a wrapper to pass around lists of nodes.

```
let fragment = new DocumentFragment();
```

## Old-school insert/remove methods

This information helps to understand old scripts, but not needed for new development.

- `parentElem.appendChild(node)` - appends `node` as the last child of `parentElem`.
- `parentElem.insertBefore(node, nextSibling)` - inserts `node` before `nextSibling` into `parentElem`.
- `parentElem.replaceChild(node, oldChild)` - replaces `oldChild` with `node` among children of `parentElem`.
- `parentElem.removeChild(node)` - removes `node` from `parentElem` (assuming `node` is its child).

All these methods return the inserted/removed node.

## A word about “document.write”

- `document.write(html)` - writes the html into page “right here and now”.

**The call to `document.write` only works while the page is loading.**
If we call it afterwards, the existing document content is erased.





