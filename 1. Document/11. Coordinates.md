# Coordinates

1. **Relative to the window** – similar to `position:fixed`, calculated from the window top/left edge. (`clientX/clientY`)
2. **Relative to the document** – similar to `position:absolute` in the document root, calculated from the document top/left edge.(`pageX/pageY`)

## Element coordinates: getBoundingClientRect

`elem.getBoundingClientRect()` - returns window coordinates for a minimal rectangle that encloses `elem` as an object of built-in DOMRect class.

Main `DOMRect` properties:

- `x/y` – X/Y-coordinates of the rectangle origin relative to window,
- `width/height` – width/height of the rectangle (can be negative).

- `top/bottom` – Y-coordinate for the top/bottom rectangle edge,
- `left/right` – X-coordinate for the left/right rectangle edge.

***Note:***

1. Coordinates may be decimal fractions.
2. Coordinates may be negative.

***Coordinates right/bottom are different from CSS position properties.***
All window coordinates are counted from the top-left corner.

## elementFromPoint(x, y)

`document.elementFromPoint(x, y)` - returns the most nested element at window coordinates `(x, y)`.

## Document coordinates

The two coordinate systems are connected by the formula:

- `pageY` = `clientY` + height of the scrolled-out vertical part of the document.
- `pageX` = `clientX` + width of the scrolled-out horizontal part of the document.

The function `getCoords(elem)` will take window coordinates from `elem.getBoundingClientRect()` and add the current scroll to them:

```
// get document coordinates of the element
function getCoords(elem) {
  let box = elem.getBoundingClientRect();

  return {
    top: box.top + window.pageYOffset,
    right: box.right + window.pageXOffset,
    bottom: box.bottom + window.pageYOffset,
    left: box.left + window.pageXOffset
  };
}
```

