# Window sizes and scrolling

## Width/height of the window

To get window width and height, use the `clientWidth/clientHeight` of `document.documentElement`.

***Not `window.innerWidth/innerHeight`.***
Scrollbar takes some space from it.

***DOCTYPE is important.***
Top-level geometry properties may work a little bit differently when there’s no `<!DOCTYPE HTML>` in HTML.

## Width/height of the document

In Chrome/Safari/Opera, if there’s no scroll, then `documentElement.scrollHeight` may be even less than `documentElement.clientHeight`!

To reliably obtain the full document height, we should take the maximum of these properties:

```
let scrollHeight = Math.max(
  document.body.scrollHeight, document.documentElement.scrollHeight,
  document.body.offsetHeight, document.documentElement.offsetHeight,
  document.body.clientHeight, document.documentElement.clientHeight
);
```

## Get the current scroll

DOM elements have their current scroll state in their `scrollLeft/scrollTop` properties.

The scroll is available in the special properties, `window.pageXOffset/pageYOffset`.

***Also available as window properties scrollX and scrollY.***
Both properties exist, but they are the same.

## Scrolling: scrollTo, scrollBy, scrollIntoView

***To scroll the page with JavaScript, its DOM must be fully built.***

- `scrollBy(x,y)` - scrolls the page relative to its current position.
- `scrollTo(pageX,pageY)` scrolls the page to absolute coordinates, so that the top-left corner of the visible part has coordinates `(pageX, pageY)` relative to the document’s top-left corner.

## scrollIntoView

`elem.scrollIntoView(top)` - scrolls the page to make `elem` visible.

- `top=true` (that’s the default), then the page will be scrolled to make `elem` appear on the top of the window.
- `top=false`, then the page scrolls to make `elem` appear at the bottom.

## Forbid the scrolling

To make the document unscrollable, it’s enough to set `document.body.style.overflow = "hidden"`.

The drawback of the method is that the scrollbar disappears. If it occupied some space, then that space is now free and the content “jumps” to fill it.