# Scripts: async, defer

1. Scripts can’t see DOM elements below them, so they can’t add handlers etc. 
2. If there’s a bulky script at the top of the page, it “blocks the page”.

## defer

- Scripts with `defer` never block the page.
- Scripts with `defer` always execute when the DOM is ready (but before `DOMContentLoaded` event).

***Deferred scripts keep their relative order, just like regular scripts.***
Browsers scan the page for scripts and download them in parallel.

***The `defer` attribute is only for external scripts.***

## async

The `async` attribute means that a script is completely independent.

- The browser doesn’t block on `async` scripts (like `defer`). 
- Other scripts don’t wait for `async` scripts, and `async` scripts don’t wait for them. 
- `DOMContentLoaded` and async scripts don’t wait for each other.

`async` scripts load in the background and run when ready.

***The async attribute is only for external scripts.***

## Dynamic scripts

```
let script = document.createElement('script');
script.src = "/article/script-async-defer/long.js";
document.body.append(script); // (*)
```

**Dynamic scripts behave as “async” by default.**

```
script.async = false;
```

Then scripts will be executed in the document order, just like `defer`.



